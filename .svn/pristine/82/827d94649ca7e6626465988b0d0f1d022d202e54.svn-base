<%@ page language="java" contentType="text/html; charset=UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt"%>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions"%>
<%@ taglib prefix="sec" uri="http://www.springframework.org/security/tags" %>
<script src="/resources/js/jquery.min.js"></script>
<style>
	.crewHeaderName {
	  font-size: 20px; 
	  padding-bottom:30px;
	}
	.crewList {
	  width: 100%;
	  height:80%;
	  overflow: auto;
	  margin-bottom: 10px;
	}
	.crewTable {
	  background-color: #ffffff;
	  border-radius: 5px;
	  width: 100%; 
 	  height: 100%;
	  text-align: center;
 	  line-height: 3rem;
	}
	.crewTable tr {
	  border-bottom: 1px solid #eaeaea; 
	  padding: 3px;
	}
	.crewTable tr:last-child {
	  border:none;
	}
	.crewTable th {
      position: sticky;
      top: 0px;
      background-color : #eaeaea;
	}
</style>
<div class="crewListWrap">
	<div class="crewHeader">
		<div class="crewHeaderName">
			동아리 가입 신청 내역
		</div>
	</div>
	<div class="crewList">
		<table class="crewTable">
			<tr>
				<th>번호</th>
				<th>동아리명</th>
				<th>신청 날짜</th>
				<th>승인 여부</th>
				<th>비고</th>
			</tr>
			<c:forEach var="crewVO" items="${crewVOList}" varStatus="stat">
				<tr>
					<td>${stat.count}</td>
					<td>${crewVO.crNm}</td>
					<td><fmt:formatDate pattern="yyyy-MM-dd" value="${crewVO.approvalVO.appReg}"></fmt:formatDate></td>
					<c:choose>
						<c:when test="${crewVO.approvalVO.appYn eq 0}">
							<td>승인대기</td>
						</c:when>
						<c:when test="${crewVO.approvalVO.appYn eq 1}">
							<td>승인</td>
						</c:when>
						<c:when test="${crewVO.approvalVO.appYn eq 2}">
							<td>반려</td>
						</c:when>
					</c:choose>
					<td>${crewVO.approvalVO.appRet}</td>
				</tr>
			</c:forEach>
		</table>
	</div>
</div>